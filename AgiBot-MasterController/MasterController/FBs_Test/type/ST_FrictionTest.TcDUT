<?xml version="1.0" encoding="utf-8"?>
<TcPlcObject Version="1.1.0.1" ProductVersion="3.1.4024.11">
  <DUT Name="ST_FrictionTest" Id="{f600fae6-04a7-4000-b515-089282450422}">
    <Declaration><![CDATA[TYPE ST_FrictionTest :
STRUCT
	//come to test mode
	m_testMode:ARRAY[1..g_mArmNum] OF BOOL;
	
	//start motion
	m_startMotion:ARRAY[1..g_mArmNum] OF BOOL;
	
	//output the arm joint position
	m_armDHJntPos:ARRAY[1..g_mArmNum] OF Vec7d;
	m_armActJntPos:ARRAY[1..g_mArmNum] OF Vec7d;
	
	//test joint id and trajectory id
	m_jntId:ARRAY[1..g_mArmNum] OF INT;
	m_trajId:ARRAY[1..g_mArmNum] OF INT;
	
	//test step
	m_testStep:ARRAY[1..g_mArmNum] OF INT;
	
	//nest step
	m_nextStep:ARRAY[1..g_mArmNum] OF BOOL;	
	
	//clutch mode
	m_clutchMode:ARRAY[1..g_mArmNum] OF BOOL;
	
	//joint gap
	m_jntGap:ARRAY[1..g_mArmNum] OF Vec7d;
	
	//unbalanced Max
	m_unbalancedMax:ARRAY[1..g_mArmNum] OF Vec7d;
	
	//specific joint position friction
	m_jntTestPntFriction:ARRAY[1..g_mArmNum,1..g_mJntNum,1..3] OF LREAL;
	m_jntTestPntUnbalancedTrq:ARRAY[1..g_mArmNum,1..g_mJntNum,1..3] OF LREAL;
	
	//friction average and ratio
	m_CoulombFrictionAve:ARRAY[1..g_mArmNum,1..g_mJntNum] OF LREAL;
	m_CoulombFrictionRatio:ARRAY[1..g_mArmNum,1..g_mJntNum] OF LREAL;
	
	//date wait to write to file
	m_dataSum:INT:=13000;
	m_cmdDHJntPosD2,m_jntPosD2,m_jntTrqD2:ARRAY[1..g_mArmNum,1..g_mJntNum,1..13000] OF LREAL;
	m_cmdDHJntPosD3,m_jntPosD3,m_jntTrqD3:ARRAY[1..g_mArmNum,1..g_mJntNum,1..13000] OF LREAL;
	
	//write data
	m_writeData:ARRAY[1..g_mArmNum] OF BOOL;
	
	//during data write
	m_duringWriteData:ARRAY[1..g_mArmNum] OF BOOL;
	
	//go to specific position
	m_getHome:ARRAY[1..g_mArmNum]OF BOOL;
	m_goUp:ARRAY[1..g_mArmNum]OF BOOL;
	
	//joint limit position
	m_jntPosMin:ARRAY[1..g_mArmNum] OF Vec7d;
	m_jntPosMax:ARRAY[1..g_mArmNum] OF Vec7d;
	m_jntMotRange:ARRAY[1..g_mArmNum] OF Vec7d;
	
	//max joint friction and it's joint position
	m_CoulombFrictionMax,m_CoulombFrictionMax_JntPos:ARRAY[1..g_mArmNum] OF Vec7d;
	
	//joint id for start and end
	m_jntIdStart:ARRAY[1..g_mArmNum] OF INT:=[1,1];
	m_jntIdEnd:ARRAY[1..g_mArmNum] OF INT:=[7,7];		
	
	//joint limit position of joint 3
	m_jntPosJ3:ARRAY[1..g_mArmNum] OF LREAL;
	m_jntPosMinJ3:ARRAY[1..g_mArmNum] OF LREAL;
	m_jntPosMaxJ3:ARRAY[1..g_mArmNum] OF LREAL;
	m_jntMotRangeJ3:ARRAY[1..g_mArmNum] OF LREAL;
END_STRUCT
END_TYPE
]]></Declaration>
  </DUT>
</TcPlcObject>